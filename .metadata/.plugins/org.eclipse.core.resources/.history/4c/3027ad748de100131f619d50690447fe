package com.example.badeseenberlin;

import com.example.badeseenberlin.MainActivity.GetResortData;

import android.app.Fragment;
import android.content.Intent;
import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.AdapterView;
import android.widget.ListView;
import android.widget.TextView;
import android.widget.AdapterView.OnItemClickListener;

public class ListFragm extends ListFragm {

	@Override
	public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState){
		
		View view = inflater.inflate(R.layout.fragment_list,  container, false);
		
		 // We get the ListView component from the layout
        ListView lv = getListView();
 
        // Listview on item click listener
        lv.setOnItemClickListener(new OnItemClickListener() {
 
            @Override
            public void onItemClick(AdapterView<?> parent, View view,
                    int position, long id) {
                // getting values from selected ListItem
                String name = ((TextView) view.findViewById(R.id.resortName))
                        .getText().toString();
                String loc = ((TextView) view.findViewById(R.id.resortLocation))
                        .getText().toString();
               
 
                // Starting single contact activity
                Intent in = new Intent(getApplicationContext(),
                        MapsOverviewActivity.class);
                in.putExtra(NAME, name);
                in.putExtra(LOCATION, loc);
                startActivity(in);
 
            }
        });
 
        // Calling async task to get json
        new GetResortData().execute();
		
		
		return view;
		
	}
	
	
	
}
